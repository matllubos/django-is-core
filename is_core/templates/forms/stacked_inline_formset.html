{% load forms %}

{% block fieldset %}
<fieldset class="inline stacked-inline {{ class_names|join:' ' }}">
	{% if title %}<legend>{{ title }}</legend>{% endif %}
	{% block fieldset-forms %}
		{{ formset.management_form }}
		{% for form in formset.all_forms %}
			<div class="{{ form | model_name }} {{ form.class_names|join:' ' }}" id="{{ form.prefix }}">
				{{ form.non_field_errors }}
				{% block fieldset-field %}
					{% for field_name in fieldset %}
						{% with field=form|get_field:field_name %}
							<div class="form-group">
								{% if not field.is_hidden %}
									<div class="field {{ field_name }}{% if field.errors %} error{% endif %}">
									<label for="{{ field.auto_id }}">
										{{ field.label|capfirst }}
										{% if field.field.required %}
											<span class="required">*</span>
										{% endif %}
									</label>
									{{ field }}
									{{ field.errors }}
									</div>
								{% else %}
									{{ field }}
								{% endif %}
							</div>
						{% endwith %}
					{% endfor %}
				{% endblock %}
			</div>
		{% endfor %}
	{% endblock %}
</fieldset>
{% endblock %}
